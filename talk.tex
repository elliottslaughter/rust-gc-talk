\documentclass[ignorenonframetext,]{beamer}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifxetex
  \usepackage{fontspec,xltxtra,xunicode}
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
\else
  \ifluatex
    \usepackage{fontspec}
    \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \else
    \usepackage[utf8]{inputenc}
  \fi
\fi
\usepackage{listings}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\setcounter{secnumdepth}{0}

% Customize fonts
\setsansfont[Path = fonts/ubuntu/, UprightFont = *-Regular, BoldFont = *-Bold, ItalicFont = *-Italic, BoldItalicFont = *-BoldItalic]{Ubuntu}
\setmonofont[Path = fonts/ubuntumono/, UprightFont = *-Regular, BoldFont = *-Bold, ItalicFont = *-Italic, BoldItalicFont = *-BoldItalic]{UbuntuMono}

% Customize presentation defaults
\setbeamercolor{titlelike}{fg=black}
\setbeamercolor{itemize item}{fg=black}
\setbeamertemplate{navigation symbols}{}

% Custom language highlighting for Rust
\lstdefinelanguage{Rust}%
  {morekeywords={again,assert,break,const,do,drop,else,enum,%
      export,extern,fn,for,if,import,match,mod,new,return,%
      struct,trait,type,use,while},%
   sensitive,%
   morecomment=[s]{/*}{*/},%
   morecomment=[l]//,% nonstandard
   morestring=[b]",%
   morestring=[b]'%
  }[keywords,comments,strings,directives]%

\lstset{showstringspaces=false}

\title{High-Performance Garbage Collection in Rust}
\author{Elliott Slaughter \textless{}slaughter@cs.stanford.edu\textgreater{}}
\date{August 30, 2012}

\newsavebox{\exampleone}
\newsavebox{\exampletwo}
\newsavebox{\examplethree}

\begin{document}
\frame{\titlepage}
%\makeatletter
%\def\@title{Something that's better to use as a variable}
%\makeatother
%\frame{\titlepage}
\maketitle

\begin{frame}
\Large\center{Or, How to Hack LLVM's GC Support to Allow Us
to Start Thinking About High-Performance GC in Rust}
\end{frame}

\begin{frame}[fragile]\frametitle{Rust in 3 Examples}

\begin{itemize}
  \item<alert@2> Fast
  \item<alert@3> Safe
  \item<alert@4> Concurrent
\end{itemize}

\begin{overlayarea}{\textwidth}{\textheight}
\only<2>{\lstinputlisting[language=Rust]{example1.rs}}
\only<3>{\lstinputlisting[language=Rust]{example2.rs}}
\only<4>{\lstinputlisting[language=Rust]{example3.rs}}
\end{overlayarea}

\end{frame}

\begin{frame}\frametitle{Why GC?}

\begin{itemize}
\item
  Rust already has reference-counted types
\item
  Reference counting might not be as fast as you'd think
\item
  Secret weapon: Rust's memory model guarrantees isolation
\end{itemize}

\end{frame}

\begin{frame}\frametitle{Doesn't LLVM already support GC?}

\end{frame}

\end{document}
